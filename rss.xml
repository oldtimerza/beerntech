<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Beer n Tech]]></title><description><![CDATA[A blog about a software developer experimenting with modern web technologies]]></description><link>https://oldtimerza.github.io</link><generator>RSS for Node</generator><lastBuildDate>Fri, 25 Jan 2019 17:07:45 GMT</lastBuildDate><item><title><![CDATA[Simple CI pipeline - Part 2 - Configuration]]></title><description><![CDATA[Welcome back In part 1 of this tutorial we went through setting up a Digital ocean droplet, Docker hub , github repo and a Circle CI account…]]></description><link>https://oldtimerza.github.io/ci-pipeline-2/</link><guid isPermaLink="false">https://oldtimerza.github.io/ci-pipeline-2/</guid><pubDate>Tue, 22 Jan 2019 22:40:32 GMT</pubDate><content:encoded>&lt;h2&gt;Welcome back&lt;/h2&gt;
&lt;p&gt;In part 1 of this tutorial we went through setting up a Digital ocean droplet, Docker hub , github repo and a Circle CI account to connect and get our latest code changes from repo and access our digital ocean droplet.&lt;/p&gt;
&lt;p&gt;In this tutorial we will continue from that starting point and configure our Circle ci &lt;strong&gt;workflow&lt;/strong&gt; to pull our latest changes, build our project , test it and deploy it via a docker image to our Digital Ocean droplet.&lt;/p&gt;
&lt;p&gt;Before we get started configuring, you’ll need to make sure that the repo you used for the setup contains the following files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.circleci/config.yml&lt;/li&gt;
&lt;li&gt;Dockerfile&lt;/li&gt;
&lt;li&gt;package.json, with a “test” script defined.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you don’t then you can fork and clone this repository which contains the basic structure and empty files needed.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/oldtimerza/simple-ci-pipeline&quot;&gt;simple-ci-pipeline&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Get yourself a cup of tea because this is quite a lengthy explanation.&lt;/p&gt;
&lt;p&gt;Let’s get started!&lt;/p&gt;
&lt;h2&gt;Circle CI config&lt;/h2&gt;
&lt;p&gt;When we push code changes to our repo, Circle CI will get a notification that something has changed and that it needs to run it’s process.&lt;/p&gt;
&lt;p&gt;First Circle CI pulls our latest code and then looks for a &lt;strong&gt;.circleci&lt;/strong&gt; folder and a &lt;strong&gt;config.yml&lt;/strong&gt; in it.
It uses this config file to determine how it should run it’s deployment process.&lt;/p&gt;
&lt;p&gt;We created a &lt;strong&gt;.circleci/config.yml&lt;/strong&gt; file in our setup step. This time around we will edit this file to create a &lt;strong&gt;workflow&lt;/strong&gt; that will do everything we need automatically everytime we push a code change to our repo.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;workflows&lt;/strong&gt; are an ordered series of &lt;strong&gt;jobs&lt;/strong&gt; defined in our config.yml file to achieve our deployment process.
The &lt;strong&gt;jobs&lt;/strong&gt; define the &lt;strong&gt;steps&lt;/strong&gt; our process takes.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;workflows order our jobs and jobs are a named collection of steps.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Our &lt;strong&gt;config.yml&lt;/strong&gt; will look like the following when we are done:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; circleci/node&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;test&apos;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; checkout
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;restore_cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dependency&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; checksum &quot;package.json&quot; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Install Dependencies
          &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;production=false
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;save_cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dependency&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; checksum &quot;package.json&quot; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./node_modules
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Test
          &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn test
  &lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; circleci/node&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; checkout
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; setup_remote_docker
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy image to Docker Hub
          &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
            docker build --build-arg DOCKER_USER=$DOCKER_USER --build-arg DOCKER_PASSWORD=$DOCKER_PASSWORD -t oldtimerza/blade-express .
            docker login -u $DOCKER_USER -p $DOCKER_PASSWORD
            docker push oldtimerza/blade-express&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Run docker image on Digital Ocean Droplet
          &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
            ssh $SSH_USER@$SSH_HOST -o StrictHostKeyChecking=no &apos;docker stop app &amp;amp;&amp;amp; docker rm $(docker ps -a -q) &amp;amp;&amp;amp; docker rmi $(docker images -q) &amp;amp;&amp;amp; docker pull oldtimerza/blade-express &amp;amp;&amp;amp; docker run -d -t -p 80:3000 --name app oldtimerza/blade-express&apos;&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;workflows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build-deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; build
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;requires&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; build
          &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; master&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let’s break it down.&lt;/p&gt;
&lt;h3&gt;Breakdown&lt;/h3&gt;
&lt;h4&gt;Version&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;strong&gt;version&lt;/strong&gt; tag you see at the top is just there to tell Circle CI which version of it’s config format it needs to expect to understand what is to follow.
In our case it is version 2.&lt;/p&gt;
&lt;h4&gt;Jobs&lt;/h4&gt;
&lt;p&gt;We have two jobs defined in our config file: &lt;strong&gt;build&lt;/strong&gt; and &lt;strong&gt;deploy&lt;/strong&gt;.&lt;/p&gt;
&lt;h5&gt;Build&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; circleci/node&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;test&apos;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; checkout
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;restore_cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dependency&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; checksum &quot;package.json&quot; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Install Dependencies
        &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;production=false
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;save_cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dependency&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; checksum &quot;package.json&quot; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./node_modules
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Test
        &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn test&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In order for Circle CI to build and test our code it needs some kind of environment to do so.&lt;/p&gt;
&lt;p&gt;How we’re doing it is to tell Circle CI to create an environment from a docker image with the right environment installed that we need to run our building and testing.
That is precisely what this section does:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We use the Docker image created and maintained by the circleci team called circleci/node:8.
This Docker container will have node version 8.x installed as well as yarn and some other useful stuff.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; circleci/node&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next we setup some environment variables that our new container should have access to. We set our &lt;strong&gt;NODE_ENV&lt;/strong&gt; variable to test.
We do this so that our Node process knows to run in test mode.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;test&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next we define the steps (the sequences of things to do) once Circle CI has created this environment and running inside it.&lt;/p&gt;
&lt;p&gt;The first &lt;strong&gt;step&lt;/strong&gt; in our &lt;strong&gt;job&lt;/strong&gt; is &lt;strong&gt;checkout&lt;/strong&gt;. This is a specific step that Circle CI picks up. It tells Circle CI to pull the latest code from our connected repo and switch to it’s master branch.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; checkout&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We have a weird &lt;strong&gt;step&lt;/strong&gt; next. The &lt;strong&gt;restore_cache&lt;/strong&gt; step.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;restore_cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dependency&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; checksum &quot;package.json&quot; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This saves us time each subsquent build. Instead of Circle CI downloading and installing all our npm packages each time we build, we instead store our &lt;strong&gt;node_modules&lt;/strong&gt; contents in a cache that Circle CI restores.
We use the checksum of our &lt;strong&gt;package.json&lt;/strong&gt; file as the key for the cache entry so that if the &lt;strong&gt;package.json&lt;/strong&gt; contents change(i.e. we add a new package) the cache hit will miss and our &lt;strong&gt;node_modules&lt;/strong&gt; content will not be restored and the packages(with the new additions) will be re-installed.&lt;/p&gt;
&lt;p&gt;After that we define our first custom &lt;strong&gt;step&lt;/strong&gt;. This &lt;strong&gt;step&lt;/strong&gt; is a &lt;strong&gt;run&lt;/strong&gt; step. A &lt;strong&gt;run&lt;/strong&gt; step is a step that is a command for Circle CI to run in the terminal inside the build environment.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Install Dependencies
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;production=false&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;run&lt;/strong&gt; steps have a &lt;strong&gt;name&lt;/strong&gt; and a &lt;strong&gt;command&lt;/strong&gt;.
The &lt;strong&gt;name&lt;/strong&gt; is just a descriptor that Circle CI will use to display the console output of our &lt;strong&gt;command&lt;/strong&gt; execution in a nice format on the dashboard.
The &lt;strong&gt;command&lt;/strong&gt; part is the actual text that Circle CI will enter into the terminal and execute.&lt;/p&gt;
&lt;p&gt;In this case our &lt;strong&gt;run&lt;/strong&gt; step is called &lt;strong&gt;Install Dependencies&lt;/strong&gt; and it executes the &lt;strong&gt;yarn install —production=false&lt;/strong&gt; command in the terminal.
This step will essentially start a yarn installation process using our &lt;strong&gt;package.json&lt;/strong&gt; file for our project.&lt;/p&gt;
&lt;p&gt;We again have a weird caching step.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;save_cache&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dependency&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; checksum &quot;package.json&quot; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ./node_modules&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You guessed it! This simply tells Circle CI to cache the contents of our &lt;strong&gt;node_modules&lt;/strong&gt; content under a key made up of &lt;strong&gt;dependency-cache-&lt;/strong&gt; and the checksum of our &lt;strong&gt;package.json&lt;/strong&gt; file.&lt;/p&gt;
&lt;p&gt;This is so next time we run this build process we will have those contents ready at hand and not have to re-download and install them.&lt;/p&gt;
&lt;p&gt;Finally we run another &lt;strong&gt;run&lt;/strong&gt; step.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Test
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn test&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This run step is quite obvious. It tells Circle CI to run our &lt;strong&gt;test&lt;/strong&gt; script that we may have in our package.json.
If the tests fail they will exit the process and Circle CI will fail our build automatically. MAGIC!&lt;/p&gt;
&lt;h5&gt;Deploy&lt;/h5&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; circleci/node&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; checkout
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; setup_remote_docker
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy image to Docker Hub
        &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
          docker build --build-arg DOCKER_USER=$DOCKER_USER --build-arg DOCKER_PASSWORD=$DOCKER_PASSWORD -t oldtimerza/blade-express .
          docker login -u $DOCKER_USER -p $DOCKER_PASSWORD
          docker push oldtimerza/blade-express&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Run docker image on Digital Ocean Droplet
        &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
          ssh $SSH_USER@$SSH_HOST -o StrictHostKeyChecking=no &apos;docker stop app &amp;amp;&amp;amp; docker rm $(docker ps -a -q) &amp;amp;&amp;amp; docker rmi $(docker images -q) &amp;amp;&amp;amp; docker pull oldtimerza/blade-express &amp;amp;&amp;amp; docker run -d -t -p 80:3000 --name app oldtimerza/blade-express&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similarly to the &lt;strong&gt;build&lt;/strong&gt; job we did above we define the environment that wil be used to run these steps inside.&lt;/p&gt;
&lt;p&gt;In this case we use &lt;strong&gt;circleci/node:7&lt;/strong&gt;. (I don’t it’s important that it is a different version of node, but it’s good to show that different environments can be used per job).&lt;/p&gt;
&lt;p&gt;Again we use the &lt;strong&gt;checkout&lt;/strong&gt; step to get our latest code into this environment.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; setup_remote_docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;strong&gt;setup _remote _docker&lt;/strong&gt; step is another pre-defined step specific to Circle CI.&lt;/p&gt;
&lt;p&gt;This step creates a new docker container environment for us to setup our Docker image inside.&lt;/p&gt;
&lt;p&gt;The reason we need this is because the environment that Circle CI is currently running our commands in is a Docker container.&lt;/p&gt;
&lt;p&gt;This is a problem because Docker does not allow building docker images from inside a container.&lt;/p&gt;
&lt;p&gt;So we tell Circle CI that we are going to run some docker build commands and that it needs to do this outside of this current container.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;building/pushing images and running containers happens in the remote Docker Engine.
More &lt;a href=&quot;https://discuss.circleci.com/t/confused-about-what-setup-remote-docker-really-does/11469&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy image to Docker Hub
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
      docker build --build-arg DOCKER_USER=$DOCKER_USER --build-arg DOCKER_PASSWORD=$DOCKER_PASSWORD -t oldtimerza/blade-express .
      docker login -u $DOCKER_USER -p $DOCKER_PASSWORD
      docker push oldtimerza/blade-express&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As the name of this next step implies, we are going to build our Docker image and deploy it to our &lt;strong&gt;DockerHub&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;The $TEXT are environment variables. We can set these environment vairables from our Circle CI dashboard and we’ll go through that part in a bit.&lt;/p&gt;
&lt;p&gt;For now just remember that $TEXT are environment variables in our build environment.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$ENV_VARIABLE are Circle CI’s environment variables setup for use in this build environment from the dashboard.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;What this command does in order.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;docker build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;build&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;arg DOCKER_USER=$DOCKER_USER &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;build&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;arg DOCKER_PASSWORD=$DOCKER_PASSWORD &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;t oldtimerza/blade&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;express .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;run docker build command, this tells docker to build our image using the config in our Dockerfile. (we will handle that later).
&lt;strong&gt;—build-arg DOCKER&lt;em&gt;USER = $DOCKER&lt;/em&gt;USER&lt;/strong&gt; is a way to set variables that our Dockerfile needs to execute with.&lt;/p&gt;
&lt;p&gt;In this instance we set our docker &lt;strong&gt;DOCKER_USER&lt;/strong&gt; argument to be the environment variable that Circle CI provided.&lt;/p&gt;
&lt;p&gt;We do the same for the password.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;-t oldtimerza/blade-express&lt;/strong&gt; is the tag(the name) of our docker image.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;.&lt;/strong&gt;(dot) at the end is the path that Docker looks for stuff in, dot simply means this current directory.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;docker login &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;u $DOCKER_USER &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;p $DOCKER_PASSWORD&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next we log into our DockerHub account with the username and password provided by Circle CI environment variables.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;docker push oldtimerza/blade&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;express&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally we push this image to our DockerHub project repo. (named oldtimerza/blade-express in this example, but yours will be different from the setup stage)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Run docker image on Digital Ocean Droplet
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
      ssh $SSH_USER@$SSH_HOST -o StrictHostKeyChecking=no &apos;docker stop app &amp;amp;&amp;amp; docker rm $(docker ps -a -q) &amp;amp;&amp;amp; docker rmi $(docker images -q) &amp;amp;&amp;amp; docker pull oldtimerza/blade-express &amp;amp;&amp;amp; docker run -d -t -p 80:3000 --name app oldtimerza/blade-express&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: the ’ marks are important because we need all the docker commands to be run inside the SSH shell. Also take note of the $SSH&lt;em&gt;USER and $SSH&lt;/em&gt;HOST environment variables that we’ll need to configure from Circle CI’s dashboard.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This final step of the process will SSH into our Digital Ocean droplet, stop any currently running docker containers, remove any out-dated images and pull our latest image from our DockerHub into the droplet.&lt;/p&gt;
&lt;p&gt;Then (while still SSH’ed in) we tell docker (on the droplet) to run our new image.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;p 80&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3000 &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;name app oldtimerza/blade&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;express&apos;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;-p 80:3000&lt;/strong&gt; tells Docker to connect the running containers port 3000 to the external hosts port 80.&lt;/p&gt;
&lt;p&gt;We do this because our node process will be running on port 3000 but we want that to be accessed from port 80 (i.e. from the web).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;—name app&lt;/strong&gt; tells docker to call this running container “app” so that we can easily identify it should we need to.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;oldtimerza/blade-express&lt;/strong&gt; is the name of the image that docker should initialise a container with.&lt;/p&gt;
&lt;h3&gt;Workflows&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;workflows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build-deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; build
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;requires&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; build
          &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
              &lt;span class=&quot;token key atrule&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; master&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As mentioned earlier &lt;strong&gt;workflows&lt;/strong&gt; define the order that our defined jobs should be run in.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The version of &lt;strong&gt;workflows&lt;/strong&gt; that Circle CI should expect to see. We use version 2. Don’t worry too much about it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;build-deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; build
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;requires&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; build
        &lt;span class=&quot;token key atrule&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token key atrule&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; master&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;build-deploy&lt;/strong&gt; is the name of the workflow that will appear in our Circle CI logs on the dashboard.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;jobs&lt;/strong&gt; is the ordered list of our defined jobs. First we run the &lt;strong&gt;build&lt;/strong&gt; job.&lt;/p&gt;
&lt;p&gt;Then we run the &lt;strong&gt;deploy&lt;/strong&gt; job. However. Notice the &lt;strong&gt;requires&lt;/strong&gt; part. This tells Circle CI to only run &lt;strong&gt;deploy&lt;/strong&gt; if our &lt;strong&gt;build&lt;/strong&gt; job completed successfully.&lt;/p&gt;
&lt;p&gt;Remember what I mentioned about tests earlier? This step is crucial as it only allows the &lt;strong&gt;deploy&lt;/strong&gt; job to run if our tests all passed during the &lt;strong&gt;build&lt;/strong&gt; job.&lt;/p&gt;
&lt;p&gt;The &lt;strong&gt;filters&lt;/strong&gt; sections basically tells Circle CI to only do the jobs on our &lt;strong&gt;main&lt;/strong&gt; branch of repository.&lt;/p&gt;
&lt;p&gt;The Last stage of our journey will be to configure our &lt;strong&gt;Dockerfile&lt;/strong&gt; so that Docker knows what to include in ,and how to create, our image.&lt;/p&gt;
&lt;h2&gt;Dockerfile config&lt;/h2&gt;
&lt;p&gt;Our &lt;strong&gt;Dockerfile&lt;/strong&gt; will look like the following when we are done:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;8.11.3&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;alpine

&lt;span class=&quot;token keyword&quot;&gt;ARG&lt;/span&gt; DOCKER_USER
&lt;span class=&quot;token keyword&quot;&gt;ARG&lt;/span&gt; DOCKER_PASSWORD

&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; mkdir &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;p /usr/src/app
&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /usr/src/app

&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; . /usr/src/app

&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; yarn install

&lt;span class=&quot;token keyword&quot;&gt;ENV&lt;/span&gt; NODE_ENV=production
&lt;span class=&quot;token keyword&quot;&gt;ENV&lt;/span&gt; DOCKER_USER=$DOCKER_USER
&lt;span class=&quot;token keyword&quot;&gt;ENV&lt;/span&gt; DOCKER_PASSWORD=$DOCKER_PASSWORD

&lt;span class=&quot;token keyword&quot;&gt;EXPOSE&lt;/span&gt; 3000
&lt;span class=&quot;token keyword&quot;&gt;CMD&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yarn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;start&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;8.11.3&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;alpine&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This tells docker to get a base image to expand upon, in our case we get one of node’s base images.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerk&quot;&gt;&lt;pre class=&quot;language-dockerk&quot;&gt;&lt;code class=&quot;language-dockerk&quot;&gt;ARG DOCKER_USER
ARG DOCKER_PASSWORD&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These are the arguments that docker expects to build this image with. We passed these in earlier from Circle CI with the &lt;strong&gt;—build-arg&lt;/strong&gt; arguments on our &lt;strong&gt;docker build&lt;/strong&gt; command.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; mkdir &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;p /usr/src/app
&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /usr/src/app

&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; . /usr/src/app&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;RUN&lt;/strong&gt; tells Docker to run the &lt;strong&gt;mkdir&lt;/strong&gt; command and creates a directory usr/src/app for us.
&lt;strong&gt;WORKDIR&lt;/strong&gt; tells Docker to change our current working directory to this new dir.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;COPY . /usr/src/app&lt;/strong&gt; tells Docker to copy all files from our current directory (denoted by the .dot) into our newly created directory in our Docker image.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; yarn install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;again we use Dockers &lt;strong&gt;RUN&lt;/strong&gt; command to execute &lt;strong&gt;yarn install&lt;/strong&gt; which will download and install all our necessary npm packages inside our image.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ENV&lt;/span&gt; NODE_ENV=production
&lt;span class=&quot;token keyword&quot;&gt;ENV&lt;/span&gt; DOCKER_USER=$DOCKER_USER
&lt;span class=&quot;token keyword&quot;&gt;ENV&lt;/span&gt; DOCKER_PASSWORD=$DOCKER_PASSWORD&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We setup some environment variables for image , we set node to production mode.&lt;/p&gt;
&lt;p&gt;We set our &lt;strong&gt;DOCKER_USER&lt;/strong&gt; to the user we accepted as a build argument in our docker build command and similarly for our password.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;EXPOSE&lt;/span&gt; 3000
&lt;span class=&quot;token keyword&quot;&gt;CMD&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yarn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;start&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lastly we &lt;strong&gt;EXPOSE&lt;/strong&gt; the image’s port 3000 so that Docker can map to our port 80 defined earlier during our Circle CI &lt;strong&gt;docker build&lt;/strong&gt; command.&lt;/p&gt;
&lt;p&gt;Finally &lt;strong&gt;CMD&lt;/strong&gt;.&lt;span style=&quot;color:red&quot;&gt;This is important&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Essentialy what this is , is an ordered list of commands that Docker will run in our container when it is created from this image.&lt;/p&gt;
&lt;p&gt;In this instance it will run &lt;strong&gt;yarn start&lt;/strong&gt; when a container made from this image is created and started.&lt;/p&gt;
&lt;p&gt;This runs our &lt;strong&gt;npm start&lt;/strong&gt; script defined in our package.json. Normally this script is where you would put your applications starting commands.
Usually starting a node process with an express server or something similar.&lt;/p&gt;
&lt;p&gt;The only thing left to do now is to setup our Circle CI environment variables to pass into this process.&lt;/p&gt;
&lt;h2&gt;The final hurdle: Circle CI Environment variables&lt;/h2&gt;
&lt;p&gt;Login to your Circle CI account.&lt;/p&gt;
&lt;p&gt;Once in the dashboard head over to Settings -&gt; Projects (Under Organizations) and click the little cog icon next to the project we setup in step one of this tutorial.&lt;/p&gt;
&lt;p&gt;You should end up here:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/32729f1689eef155e13dd088a0c02689/1bc0f/circle-ci-vars.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.37057220708448%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABPUlEQVQoz5WPX26CQBDG90rciIfS9AA0qUrlwVf/NFaBVEIf9AZtn3qGxpceoIYErJAQkJ1l0QUHjCZWm6a/EDIz+b6Z/cjN9VVL01RVva1pNpt3BzRN63Q6jVNQ0G7rjZZ2r+tkbJhFWcE5T9MU/0KI8kBRFOVlULUlhmkC59it1+swDFerVRiEQRBEUZRSevxQi3sppRmDDzd9n3vzT5cYhhkBg4wnSZzn+fmJ/XHXdXH7vseH5aIEysnjaBQD22xFHMeO8zwcDm3bntQ81ViWNZvNJElSFAULbB17Ypnjt9cXMhg8AM9FUWDgr8ViuVx+n+J5HmNMluXpdIqF7/s4RBlGI91eDzZiW5sBGL8ExkmSBANjcRziospM883+MqaivwAAPyaoJ91+P628f5jPqcw9NGfVw7D/r3kHCuoCtbOAc7gAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Circle CI Env Vars&quot;
        title=&quot;&quot;
        src=&quot;/static/32729f1689eef155e13dd088a0c02689/fb8a0/circle-ci-vars.png&quot;
        srcset=&quot;/static/32729f1689eef155e13dd088a0c02689/1a291/circle-ci-vars.png 148w,
/static/32729f1689eef155e13dd088a0c02689/2bc4a/circle-ci-vars.png 295w,
/static/32729f1689eef155e13dd088a0c02689/fb8a0/circle-ci-vars.png 590w,
/static/32729f1689eef155e13dd088a0c02689/526de/circle-ci-vars.png 885w,
/static/32729f1689eef155e13dd088a0c02689/fa2eb/circle-ci-vars.png 1180w,
/static/32729f1689eef155e13dd088a0c02689/08f6a/circle-ci-vars.png 1770w,
/static/32729f1689eef155e13dd088a0c02689/1bc0f/circle-ci-vars.png 1835w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Click the &lt;strong&gt;Add Variable&lt;/strong&gt; button to create a variable for each of the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DOCKER_PASSWORD : The password you used for your DockerHub account login.&lt;/li&gt;
&lt;li&gt;DOCKER_USER : The username you used for your DockerHub account login.&lt;/li&gt;
&lt;li&gt;NODE_ENV : Set to “production” (without the quotes obvs.)&lt;/li&gt;
&lt;li&gt;SSH_HOST : The IP address of our Digital Ocean droplet. See the image below to see where to get it.&lt;/li&gt;
&lt;li&gt;SSH_USER : Set to “root” , this is the user we will SSH into our droplet with. Ubuntu root will give us admin level priviliges on our Digital Ocean droplet.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The IP address of our droplet, it will require you to login into your Digital Ocean account and look at your &lt;strong&gt;Droplets&lt;/strong&gt; screen.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e83ab53d4f1f5244c56df5e9632af97/67a86/DigitalOcean-ip.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.800435019032086%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA8klEQVQoz6VSXUoDQQyOIBRPoAXxoZfwEK0I9QoeYo9i6Qk8gy5oVQQfij8XsK9dWGjX2d1kkomZdRWKvrj9GIYkky/fBxPoHZ1ezeaq6lxJ5EWCnRbfiYhwjAOKv1w+ZcFNLyZJkkBvME5nz0b2np37IERtEDl2q0pQIyMiEUkDe7XYKrA3OLt5eI2553xd5avaVUiefI3F+wKzrCyxqoltNrN5wDghfAnA/vH57eObRRy9qefA0nqWPJeiaOTbbt1MAPqj67tom1n0n4Ddw5O0M3mnP0rvXzqTh9spdybDwRbK8Jdt+1Lbth/YSljlN/kTec5nZaDyfzQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Digital Ocean IP&quot;
        title=&quot;&quot;
        src=&quot;/static/4e83ab53d4f1f5244c56df5e9632af97/fb8a0/DigitalOcean-ip.png&quot;
        srcset=&quot;/static/4e83ab53d4f1f5244c56df5e9632af97/1a291/DigitalOcean-ip.png 148w,
/static/4e83ab53d4f1f5244c56df5e9632af97/2bc4a/DigitalOcean-ip.png 295w,
/static/4e83ab53d4f1f5244c56df5e9632af97/fb8a0/DigitalOcean-ip.png 590w,
/static/4e83ab53d4f1f5244c56df5e9632af97/526de/DigitalOcean-ip.png 885w,
/static/4e83ab53d4f1f5244c56df5e9632af97/fa2eb/DigitalOcean-ip.png 1180w,
/static/4e83ab53d4f1f5244c56df5e9632af97/08f6a/DigitalOcean-ip.png 1770w,
/static/4e83ab53d4f1f5244c56df5e9632af97/67a86/DigitalOcean-ip.png 1839w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;And with this we are finally finished with our journey.&lt;/p&gt;
&lt;p&gt;You now have a pipeline setup that can pull your latest code changes, build it, test it, deploy it, and run it on a droplet.&lt;/p&gt;
&lt;p&gt;I hope this tutorial has been helpful. Watch out for the final part &lt;strong&gt;Lights, Camera, Hello World!&lt;/strong&gt; where I will create and deploy a simple example project to demonstrate a working sample.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Simple CI pipeline - Part 1 - Setup]]></title><description><![CDATA[Introduction One of the best ways to get a project up and running ,and making it easy to have the project be live and testable as soon as…]]></description><link>https://oldtimerza.github.io/ci-pipeline-1/</link><guid isPermaLink="false">https://oldtimerza.github.io/ci-pipeline-1/</guid><pubDate>Sat, 19 Jan 2019 22:40:32 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;One of the best ways to get a project up and running ,and making it easy to have the project be live and testable as soon as possible,
is to start development with a &lt;strong&gt;Continuous Integration(CI)&lt;/strong&gt; pipeline.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Continuous Integration&lt;/strong&gt;,from here on referred to as &lt;strong&gt;CI&lt;/strong&gt;, is the process of having an automated process compile, test and deploy the project whenever a code change is detected in the
repository.&lt;/p&gt;
&lt;p&gt;For the purpose of this blog I will describe how to get a simple CI pipeline up and running for a node js based project.&lt;/p&gt;
&lt;p&gt;The technologies we’ll be using are the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Github&lt;/strong&gt;, The popular free source control host and tooling.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CircleCI&lt;/strong&gt;, A service that you can hook into your &lt;strong&gt;Github&lt;/strong&gt; repo that will pull the latest code changes and run them through a configurable process.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker&lt;/strong&gt;, Containerisation. This isn’t too important to know what it is, but it helps us with keeping our deployment environment predictable and stable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DockerHub&lt;/strong&gt;, A free store to host our &lt;strong&gt;Docker&lt;/strong&gt; images to enable the transfer of our production code.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Digital Ocean&lt;/strong&gt;, A service that hosts Virtual Private servers that we need to host our project in the cloud.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Step 1: Setup&lt;/h2&gt;
&lt;p&gt;What we need to setup:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A Github repo.&lt;/li&gt;
&lt;li&gt;Circle CI connected to our Github repo.&lt;/li&gt;
&lt;li&gt;Setup a Digital Ocean droplet.&lt;/li&gt;
&lt;li&gt;A Circle CI config file (.circleci/config.yml).&lt;/li&gt;
&lt;li&gt;A Docker image file to create our Docker image for deployment.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Github repo&lt;/h3&gt;
&lt;p&gt;For the purpose of this tutorial I’ll be using the following repository I have for an existing project:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/45a8fa48aebf2fa66af1fd182be6a861/aac1f/github-repo.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.30396475770925%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABOElEQVQoz4WRTU8CMRCG+cMGBFkgi8A/82jizbMHD5IoAdltO51+Ttcpu2R1E3XyHvoxT2fe6Wi13i3X22W5LVab+fK+KHezRTmeFpPZYsyaFjeTu6xb1py3rThnVW5GzTUSEaJVJqKNKTWsJuXzSEQptWp+xihdg5OkBq0BNNRSClBoDWiLxgcfkk/k6PJOH33lGH1Vv7OMrZyrra2J1Ol0ftsfDx/V48vzw+vToHgPW+ePlZY6VMoJ8AIcWwAbMRA6OoDYy89B4z3sQzyr3JlUqhZSSJWblxBijIliJNR26Pk7XIPnhdao4OJeax9CN86U0Ji/YNHCiFJB5kF738GU/+J3OARSGNIV5rJorDE2XYz+A7MrbpszGW5RznbOM9bB5k/4rDx/BnNc2fL0Qx5Wd0vEjw7gL5hLZlD4WQgbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Github repo&quot;
        title=&quot;&quot;
        src=&quot;/static/45a8fa48aebf2fa66af1fd182be6a861/fb8a0/github-repo.png&quot;
        srcset=&quot;/static/45a8fa48aebf2fa66af1fd182be6a861/1a291/github-repo.png 148w,
/static/45a8fa48aebf2fa66af1fd182be6a861/2bc4a/github-repo.png 295w,
/static/45a8fa48aebf2fa66af1fd182be6a861/fb8a0/github-repo.png 590w,
/static/45a8fa48aebf2fa66af1fd182be6a861/526de/github-repo.png 885w,
/static/45a8fa48aebf2fa66af1fd182be6a861/fa2eb/github-repo.png 1180w,
/static/45a8fa48aebf2fa66af1fd182be6a861/08f6a/github-repo.png 1770w,
/static/45a8fa48aebf2fa66af1fd182be6a861/aac1f/github-repo.png 1816w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Creating a Github account, if you don’t have one, and creating a repo should be pretty easy to setup.&lt;/p&gt;
&lt;p&gt;If you have a repo with the following contents then you can skip this setup stage:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.circleci/config.yml&lt;/li&gt;
&lt;li&gt;Dockerfile&lt;/li&gt;
&lt;li&gt;package.json, with a “test” script defined.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you don’t then you can fork and clone this repository which contains the basic structure and empty files needed.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/oldtimerza/simple-ci-pipeline&quot;&gt;simple-ci-pipeline&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Connect Circle CI to our repo&lt;/h3&gt;
&lt;p&gt;First follow the steps on this page &lt;a href=&quot;https://circleci.com/docs/2.0/getting-started/&quot;&gt;Circle ci getting start&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Be sure to create the .circleci/config.yml file and push it to your repo.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Once your Github account is connected to your Github repo we’ll change the newly created config.yml to get our circleci workflow to build, test and deploy the project to Digital Ocean.
Next we’ll setup an SSH key that we’ll later use to connect to our Digital Ocean droplet for deployment.&lt;/p&gt;
&lt;h3&gt;Playing with PuTTy&lt;/h3&gt;
&lt;p&gt;I assume you are using a windows machine ( this tutorial will focus on developing on a windows machine) so we will use a niffty app called PuTTy to generate our SSH key.&lt;/p&gt;
&lt;p&gt;Download PuTTY from here:
&lt;a href=&quot;https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html&quot;&gt;Putty&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;When you have it installed go ahead and open it up.&lt;/p&gt;
&lt;p&gt;You should see the following:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f100da4cb3484e3ae7bd35dbc48a97f7/f63ba/putty.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 478px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 97.28033472803345%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABoUlEQVQ4y+VUyU7DMBT0/38HJ24cEBLiBhISKSQtKVmckM1ZvCRu095KC+OaVlxYr4zkFzvO2OM3zyG3t5e87boWratZPQz69QfYbrfr9Zr0Umsw9CA6XhSFUqprO631brfbbDYvX4I0NYuiCPTBoDetN1F/B3xDpJCUJpyL5XK5+A3AJ3qhl+PvaB/IWi/+hP9LtsZ+6ytswTaHaLjGZxEEQcc5RvvqGD6rENUPXCohexNVjyERQoKcABRIktQ8y5Ida2ZfTBql8Jh1Z9ePJ+c3p1fOxR1NmSBSijAM4yh+CkILfz7Hipa8Wq3WB0ilGKun01kQRXXTSKmIkirLsrwo4jgOo6hi7JhCdCDKdV3P82azGU3o/f1kMnEmjjP1PCGEOXMKzWnKGGvbFq9sNmzpV1WVZXbxArOIZVnmeY73SDPhnLsPLsRgosjzum4geDhgHMfVHuhgyffhaGCsws6QBGl3joOkNU2Dv8Lc9yEGqcAdtSqqsowp9X0fszYd9koKHDU2oNCDu41zllW1MM71x5LAfUfMnp/hCPY2zin1BlfWGFYjmRn4AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;PuTTy&quot;
        title=&quot;&quot;
        src=&quot;/static/f100da4cb3484e3ae7bd35dbc48a97f7/f63ba/putty.png&quot;
        srcset=&quot;/static/f100da4cb3484e3ae7bd35dbc48a97f7/29db7/putty.png 148w,
/static/f100da4cb3484e3ae7bd35dbc48a97f7/1cf1c/putty.png 295w,
/static/f100da4cb3484e3ae7bd35dbc48a97f7/f63ba/putty.png 478w&quot;
        sizes=&quot;(max-width: 478px) 100vw, 478px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Make sure you have &lt;strong&gt;SSH-2 RSA&lt;/strong&gt; selected on the bottom then go ahead and click &lt;strong&gt;Generate&lt;/strong&gt;. Follow the instructions and you should see a bunch of
gibberish pop up at the top.
Like so:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c6ff7bb5212d2b9fc01d579f5c71c1ae/f63ba/Putty-gen.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 478px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 98.74476987447699%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC0ElEQVQ4y31TiW6bQBDl//+miXNVbeWoaXB8cx+7nBsMizFgIFGqNnbfghOpqtIB7Q7LzvXmjXR7/82PExolXpS4AYs3efvy2r782j///P+bFrXEwqDI87LY8nTjU1rwPM+yuqqOx+PhcDh+LIfX31KWZUEY1nVdluVuh6XabrdFUdT7fX2Sk1JV9V+y30tpupnNFpZlE0I0XSeUmqblOI5t26ZpWLZlGEaa8aZpevvqzVG12+0kzvnd97vZdE4JhY1uGDB2XdfEZtme5/W6RYiLPzhxXeI4OCNJkkg8y27H4/PR6Pr65urq8uz8YjS6GI/HF6PLT2dni+WKMZalGRKEcJ5Dh0BP01TKc75cLuez+Xy+6JWFLE/kyeRhOpVl+WE6i+MYSAxAQIYd+cKFlHNOCLVtJ4qituuiKFRVTVGUxXyhqaqiqOv1ar3GgaLrOr4VVTV0I4pinnNEzl0iqsJ327ZxzFAtfNmmlb3h1EMrBDhhHQ6Ri4is69pquQYeyAcY9lcbIXDWDmvbvB+c1AaXRWSAaJkWsgOMsN73Hd5/IO+JCGNE93wfAeHs9L9Xyg9kuDLoos+AgVIvDALfB9nEzthj/Y8gQMyYpoJKBhRRM6IHoXhcgA4fnufYDro4ZIh0uk4U2nVdWRYJiw1YayqLI/RYQuNALHAT7EHtMAcrRHp9NDAhgGc/QLcDtpFX5lhefv0xlxXLY6moGWHRZNoLSIc4aIkYkapCEWs0erkydN0Okpv79ZeJ+hnrg+7EXNRs9qQVt+saVUAZwBtW9KZtTz3quicBpzhvMBwS5hfExDudzcAhkAQ2qBzQAYBtseuzqDaY9iBAamgthqrsE5N2RQGEMH2apsVRGMGGEAwkuJskwLwSNGkazDrI7HvUdZ1nyNMTfEoh25iOZ1PfpoFFfM1ydZvQ8PExzVmah4/p8EZJJj5ZarkekINVECd/AEBdLfvvUg+3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;PuTTy-gen&quot;
        title=&quot;&quot;
        src=&quot;/static/c6ff7bb5212d2b9fc01d579f5c71c1ae/f63ba/Putty-gen.png&quot;
        srcset=&quot;/static/c6ff7bb5212d2b9fc01d579f5c71c1ae/29db7/Putty-gen.png 148w,
/static/c6ff7bb5212d2b9fc01d579f5c71c1ae/1cf1c/Putty-gen.png 295w,
/static/c6ff7bb5212d2b9fc01d579f5c71c1ae/f63ba/Putty-gen.png 478w&quot;
        sizes=&quot;(max-width: 478px) 100vw, 478px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Now &lt;strong&gt;Save public key&lt;/strong&gt; and &lt;strong&gt;Save private key&lt;/strong&gt; some where on your PC that you’ll remember.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Word of advice: give them distinguishing and descriptive names. It helps to avoid forgetting later.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now locate your private key file and open it in a text editor(I use &lt;a href=&quot;https://www.sublimetext.com/&quot;&gt;Sublime Text&lt;/a&gt;).
I’ve generated a test key to show you.
Copy the highlighted part as seen in the image below:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44da0a48c6ac791eba0e35be754c39ba/32413/key-copy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 583px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 74.27101200686106%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACbElEQVQoz2WTWXPaQAyA808KDsbmahLwsTZQE9t7X7YJgSbNtFNa0j70/79WC+m0M53R7GglfdKutHsVjq5RthASY/yhxsV9uULZPElv5/NpEHrDoP+/gP0iV6PxdZYnbSuLTQ7kchUvV0kU34BvNPEh9XjiX2Qy8SF4NHbGv3CKXGUha8ZKEMorxkttGBcVJsXZhaUkQtQUvKyczoJLfYAHKZorwxirpCKM15xXEKE1BQZS2EbIMwzebqvBOJ36bzCcJ84ipghXRCjKFMa8wvQetkzWmJcMKmtKeL3eZCuQAgXjwSA4H/v9LNini1+CnOr7Y1l8LfInFD1n8ROKX5bJyzKF7cd08SlLutupmYYgcujFgTcAOJ0Fzyje7myjiFWkNWzXqW0rDw/WOgu1mjaa7jp92DX7B601WU6H2Pc8gNEs3OeJaAQ0vO2Usty2crszD4+tBb0RTae0FcpQ0OHOsuFQrwJ45CqHj2mkOtV1qm2VsUwpYgxvOpcLoq11CnQemgcFhCbIwX0HIwcvZCu1IkpTNydWQhHGK8JKGM8lF6TebjWkpgq/wec7h4csphChCIzHOGEc5qyBoYLXxjDICwpnlXKdJ9m/8DZdVJZhURFDicK8FdRQZljFq1riDd3AKhpONGGWlQpHs/Dt2ItZ8Dm++6bokVZHVr0q+l2QI61fJf1p5Q/NTpycBPmCi8M6269Ql0U69MvhudspusF5xPOYZnEZ3fA8EstErRFfJnKVmk0u1wgsLIvyyfBu8G7h92DIY/gzAMNbCycDL+h5w54X9N067PXPq1P8sx44F7wKf3QNMvjzq34Dwm7YSBY1hUkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;private-key&quot;
        title=&quot;&quot;
        src=&quot;/static/44da0a48c6ac791eba0e35be754c39ba/32413/key-copy.png&quot;
        srcset=&quot;/static/44da0a48c6ac791eba0e35be754c39ba/a734f/key-copy.png 148w,
/static/44da0a48c6ac791eba0e35be754c39ba/5c6ba/key-copy.png 295w,
/static/44da0a48c6ac791eba0e35be754c39ba/32413/key-copy.png 583w&quot;
        sizes=&quot;(max-width: 583px) 100vw, 583px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is our &lt;strong&gt;private key&lt;/strong&gt;. It should not be shared with anyone. We will give it to Circle CI so that it can have access to our droplet.
The top part is our public key and we will be giving that to Digital Ocean so it can verify if someone SSHing into our droplet has the rights to do so.&lt;/p&gt;
&lt;h3&gt;Give Circle CI the private key&lt;/h3&gt;
&lt;p&gt;The next step is to copy the private key from the previous step and paste it into our SSH settings on Circle CI.&lt;/p&gt;
&lt;p&gt;Open up Circle CI again and go to your dashboard. From here click Settings -&gt; Projects and you should see your project there like so:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/43f55304be26e2d78b1b1f749fbf095d/97ce6/circle-ci-project-setting.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.7732015376167%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAp0lEQVQoz9XQsQ6CMBAG4Aumb9SB8Ey4WxjAkjRh4g11N4oIQgstrQfG6Ca4+SWXtJf86V2BZ1kcx0mS7GfpC3byPBdC4CH9wDkXMwyCm1gsY0zf924NkIMeZ+eyPJXXurm3X3VdW90uhyOoQVtrxxFLu5WgqmullJSyKIptGDLGdsuwKAIz7eu01pRSAPA8D5Z7DoC/FQQBXgkhm8XeYd/3f3/5r8IP+D0pv5m/rG4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;circle-ci-settings&quot;
        title=&quot;&quot;
        src=&quot;/static/43f55304be26e2d78b1b1f749fbf095d/fb8a0/circle-ci-project-setting.png&quot;
        srcset=&quot;/static/43f55304be26e2d78b1b1f749fbf095d/1a291/circle-ci-project-setting.png 148w,
/static/43f55304be26e2d78b1b1f749fbf095d/2bc4a/circle-ci-project-setting.png 295w,
/static/43f55304be26e2d78b1b1f749fbf095d/fb8a0/circle-ci-project-setting.png 590w,
/static/43f55304be26e2d78b1b1f749fbf095d/526de/circle-ci-project-setting.png 885w,
/static/43f55304be26e2d78b1b1f749fbf095d/fa2eb/circle-ci-project-setting.png 1180w,
/static/43f55304be26e2d78b1b1f749fbf095d/08f6a/circle-ci-project-setting.png 1770w,
/static/43f55304be26e2d78b1b1f749fbf095d/97ce6/circle-ci-project-setting.png 1821w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Click on the little cog icon in the top right and it will take you to the following page:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1e2f09f8a596b7f62fb937e95fa6e6eb/1bc0f/circle-ci-key.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 49.536784741144416%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABDUlEQVQoz5WQy06EMBiF+7QanwGIEHAU6obAvBABN0JYsSTuXBiBlFLo0Mv4K2GcMSFxvkXTtOec/4Lubm9c1zUMwzRNy7Icx7FX4I4xti+5t+3d4871PMd7QHG8P/4ghJimSSl1PENrfdxEoyiK6TiCiJC+adqu69q2pZSeJBAHoYcVzrmU4uP98+X1DUXxnvBZKM0YI4QsOjDneV6WZVEUdV0LIf+0IKRq+gmFYUgnDp+MDX1PIBj6B3OaplmWJUlSVdU8z/wS6ODAR4Tx87dZ6WEYwAP1l3MZGICsYQPkBwGbwftrXqAr8M42QL7vQ2Uh5SJl14Ce/KCDHc2iJ+RqcxDgkcO6xWna//MFVUEX7JDzGLYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;circle-ci-key&quot;
        title=&quot;&quot;
        src=&quot;/static/1e2f09f8a596b7f62fb937e95fa6e6eb/fb8a0/circle-ci-key.png&quot;
        srcset=&quot;/static/1e2f09f8a596b7f62fb937e95fa6e6eb/1a291/circle-ci-key.png 148w,
/static/1e2f09f8a596b7f62fb937e95fa6e6eb/2bc4a/circle-ci-key.png 295w,
/static/1e2f09f8a596b7f62fb937e95fa6e6eb/fb8a0/circle-ci-key.png 590w,
/static/1e2f09f8a596b7f62fb937e95fa6e6eb/526de/circle-ci-key.png 885w,
/static/1e2f09f8a596b7f62fb937e95fa6e6eb/fa2eb/circle-ci-key.png 1180w,
/static/1e2f09f8a596b7f62fb937e95fa6e6eb/08f6a/circle-ci-key.png 1770w,
/static/1e2f09f8a596b7f62fb937e95fa6e6eb/1bc0f/circle-ci-key.png 1835w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;As you can see I’ve already added a key for DigitalOcean. You probably won’t have anything there.&lt;/p&gt;
&lt;p&gt;Just click &lt;strong&gt;Add SSH Key&lt;/strong&gt; in the top right and a little dialog box will open with &lt;strong&gt;Hostname&lt;/strong&gt; and &lt;strong&gt;Private Key&lt;/strong&gt; boxes.&lt;/p&gt;
&lt;p&gt;Enter &lt;strong&gt;DigitalOcean&lt;/strong&gt; as the &lt;em&gt;Hostname&lt;/em&gt;.
Then paste your private key you copied earlier into the &lt;strong&gt;Private Key&lt;/strong&gt; part.&lt;/p&gt;
&lt;p&gt;Finally click &lt;strong&gt;Add SSH Key&lt;/strong&gt; to close the dialog and save the key.&lt;/p&gt;
&lt;p&gt;Next we need to give Digital Ocean our public key.&lt;/p&gt;
&lt;h3&gt;Give Digital Ocean the public key&lt;/h3&gt;
&lt;p&gt;Head on over to Digital Ocean and create an account.&lt;/p&gt;
&lt;p&gt;after you have an account, go to the following page:

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/90e31f839e9197ca79c08d3b0b1c4343/9446b/digital-ocean-dash.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.818828680897646%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABgklEQVQoz31RS0sCURQeitq0bKFI7fsF/YSgrNat+wlCwvjCH+EPcCJGBxKih0KoLUSQHtCqXSSuFEKZmfuce2/TmRkzwezjcu85nMf33XO0ta3jeuvJ931Kqe9Lfwm+wpsofvHZmyh6c3XdvX3TtndPm51XCAyxunxnyHVc10UIeZ632MLj3CNUSRW5mhZPNtrPYI0J7/QdRghIEEIEbAuQUkJIKRWJ0dZ3ThrtF7DlT78Ig8EA+KMWy/6irSSO6q2AeTgalY1zs2JVKlXTNEulUrlsVKuBO4NlWYZh9Ho9yAd+bTVxWG8+gvPR76fTZ5mMnstlAcVisVDIR3Y2m9F1HZ58Pp9KpWq12rRYiyUbD7+yl0r8U/ZmbK951wGLe8LFBGHCInBBKIPDGEyQjSfBCggJotOBQfFGfP++0Q2L5cQmYxtjKkJXORjqRTTgiRP0AMzPD2QfRLIZlw6GJI+yoDHcDuI2YkJIyEeEg5gZ51xxuCqgQsSzXexi+s965vENFapACS7y8A0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Digital Ocean Dashboard&quot;
        title=&quot;&quot;
        src=&quot;/static/90e31f839e9197ca79c08d3b0b1c4343/fb8a0/digital-ocean-dash.png&quot;
        srcset=&quot;/static/90e31f839e9197ca79c08d3b0b1c4343/1a291/digital-ocean-dash.png 148w,
/static/90e31f839e9197ca79c08d3b0b1c4343/2bc4a/digital-ocean-dash.png 295w,
/static/90e31f839e9197ca79c08d3b0b1c4343/fb8a0/digital-ocean-dash.png 590w,
/static/90e31f839e9197ca79c08d3b0b1c4343/526de/digital-ocean-dash.png 885w,
/static/90e31f839e9197ca79c08d3b0b1c4343/fa2eb/digital-ocean-dash.png 1180w,
/static/90e31f839e9197ca79c08d3b0b1c4343/08f6a/digital-ocean-dash.png 1770w,
/static/90e31f839e9197ca79c08d3b0b1c4343/9446b/digital-ocean-dash.png 1827w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;You now need to click on the &lt;strong&gt;Securtiy&lt;/strong&gt; option on the sidebar near the bottom.&lt;/p&gt;
&lt;p&gt;This will take you to the following screen:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/02c0de28d5ebdf90fab87e7f05ea14ab/98ef2/digital-ocean-security.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 49.14506343077772%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABc0lEQVQoz2WRy0rDQBSGgxsrgerGKi68QYtF6Rv4AmJR1Fasuvf5usiiq276AGIvVpGoFXpZBJsmc5+JJ5lRG/0ZAjOZ75zz/2NlC1V75+y+8xJFESGEcy6lVEpF/6Si+LAdfDhB96X/XC6XrUyxtlK8bPde4Qdgs9nM9/3xeDwYDGA7DwslqeIy+q1r2fkLu1DVsBASISSEcF232WxSSudhJsWUI48FSMTnMJ2VK91kS7cPPVd3JgSHCOmejLE/RrBkgSQwgumc279a2jxpP8adKWNBEMJVaA5MynCimMfY96cGXj2o2bvnP3AYxrBWq9Wq1+uNRsNxnMlkEvuSgguJialrLWwcL26dahgAzpn4zsnzvOFwOBqN4Euo8UkpATsG3ju8Wy9dd5/edWBT34fMoARo/sESH4ww5X2GGGEDZ/OV5UKl039LppKUxbdoIkJgYUIFogpTiYjiIvXylrV2lNk2YwMAYYBtlVKkl1Sp5EBfo+oRwrfp9DsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Digital Ocean security&quot;
        title=&quot;&quot;
        src=&quot;/static/02c0de28d5ebdf90fab87e7f05ea14ab/fb8a0/digital-ocean-security.png&quot;
        srcset=&quot;/static/02c0de28d5ebdf90fab87e7f05ea14ab/1a291/digital-ocean-security.png 148w,
/static/02c0de28d5ebdf90fab87e7f05ea14ab/2bc4a/digital-ocean-security.png 295w,
/static/02c0de28d5ebdf90fab87e7f05ea14ab/fb8a0/digital-ocean-security.png 590w,
/static/02c0de28d5ebdf90fab87e7f05ea14ab/526de/digital-ocean-security.png 885w,
/static/02c0de28d5ebdf90fab87e7f05ea14ab/fa2eb/digital-ocean-security.png 1180w,
/static/02c0de28d5ebdf90fab87e7f05ea14ab/08f6a/digital-ocean-security.png 1770w,
/static/02c0de28d5ebdf90fab87e7f05ea14ab/98ef2/digital-ocean-security.png 1813w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Click on the &lt;strong&gt;Add SSH Key&lt;/strong&gt; button on the right.&lt;/p&gt;
&lt;p&gt;Copy your public key from the PuTTy:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e233b5ba4735e04a422819b86aa14ed/f63ba/putty-public.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 478px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 96.65271966527197%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC2UlEQVQ4y41Ta3OTUBDl//8DPzja+kEdR+3LZ2ptah4kIRQIAS5cCARICAmER0KbRKuHpM04o854gJ2dy+7d3bO7TLNZKYq8KG4KYLlc3a5+/gfu7u7W6zUTR0m+RZam0+kUSpIk+WIBix//xndgs2HGkzGhNIqiMAwnk0kpg2ASTHAR9NlsBiWK4vnviON5kszTlAkJ4R49Vl8fWWfv9DelNI5O6PEpJHl7TE9OyZu306/VtNGc1xrzWj2pN5ImG51fxIQwU67bPj6tsW2tr/R7PZ7jJEFUZFnkr0VBsKhpGkZf7muqikNNUfDqpkXZ1rTJMrPuNVc5/1SrX9TqlWr18+Vl5fKqyrKVy1KXVC1AjkURLxbz5TK9KeI8n69XITVn7Q4zFaX+kwP+xSvh+Uvt6ER+9bp18Kx1cAjJPj1sHxxaHz6Ovnz1v1xAeucXUMbVb8HZ+6jLM0EQ6KKocJwlK6s49ggR6g2pyfJXNZXjSZdXOU5ud9Qur/HQu7DUr8WxaYJPBgzTgaUZxmDoZcvFOAztoTv0fdvxssXidrO5Wa8f3tVez4vlLIoY9KffB1OyoqhhOEVv4jhGq9M0jf+J+a61DD5VUTWiyz1ZNyiqwHWzLaK/YXeO5iPl0lnXdcTEbCEaRmD3e/YH9mMDQInKtMMJ2kiIbhhGKSm1LMtxhmmGeU2TB0CHtWWanU5HEARn6OAuBp9h6IZOUTP8NU0DBeMg2GWRZWDtHgjoum6v14OB5/n3NeM+27ZLT0JwJSLsow0Gg5JOqUcI8XxfEqXrLRADlZZsmxSP6TiO63kgDG7b4S+XwfPQeAJT0zTBECSlFGEGtl3WjCPUIIqi63pw9n1/53wfPMvybc5Y2XJV83yx298sw+1lzZKEFRBaLRakjUYjnKgq6qeQ2xLKLfRcV9cNRVFG4/E+tbJmbQuYDgY22qYo/W1WMRjap7AbDscuDZDOrqO/AP7X8AYldIeUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Putty public&quot;
        title=&quot;&quot;
        src=&quot;/static/4e233b5ba4735e04a422819b86aa14ed/f63ba/putty-public.png&quot;
        srcset=&quot;/static/4e233b5ba4735e04a422819b86aa14ed/29db7/putty-public.png 148w,
/static/4e233b5ba4735e04a422819b86aa14ed/1cf1c/putty-public.png 295w,
/static/4e233b5ba4735e04a422819b86aa14ed/f63ba/putty-public.png 478w&quot;
        sizes=&quot;(max-width: 478px) 100vw, 478px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Copy all the text in the highlighted part of PuTTy.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ecd14e5f34ac4872f35980cd547a3418/3d4da/digital-ocean-paste.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 88.41059602649007%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABYklEQVQ4y52TDW+CMBCG+f8/bVmyLCabQUERx2fpF9cC/YAV0GxM53RP3hTS4+2Ru6unlBou6O/AWusZY5qmoZQCAEIV47wGcLHhJl9mAZAmCSMYlQVGKEsSo/X4hbXf/2S40GjutMZ1zVtdQYtFx5qmpLTijEk5iwpxegFwazsd7fC0MbpEdO3jMCu3Tml3TEySmo90XK8qzWyaDm3rac75y1uxjfE2ImGMgwPEuTgWvyrOZVbhVSCDyNOE1Jsds6ZRSigltf6zVm5pKyqCw2gW/t6ed0/hG5qqqBCRS/N8wh+J5xyqomfzJlpkfsCMXebdw2ZExDbyDED9vAJ/D+uwfg/ukr9nT69teBj7bLuOF2XLeC+lvU8dyN5YT0+9ASmVMcPdGFf4ccKceerBPOs/6CddpZ9nW0pJCGFL3D0riiLPc4QQu8BF3V0eM7uH8zdL3A5MCCGaC1zUZR3Nw3/5BO5FEt2MnAjPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Digital ocean public key&quot;
        title=&quot;&quot;
        src=&quot;/static/ecd14e5f34ac4872f35980cd547a3418/fb8a0/digital-ocean-paste.png&quot;
        srcset=&quot;/static/ecd14e5f34ac4872f35980cd547a3418/1a291/digital-ocean-paste.png 148w,
/static/ecd14e5f34ac4872f35980cd547a3418/2bc4a/digital-ocean-paste.png 295w,
/static/ecd14e5f34ac4872f35980cd547a3418/fb8a0/digital-ocean-paste.png 590w,
/static/ecd14e5f34ac4872f35980cd547a3418/3d4da/digital-ocean-paste.png 604w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Paste the key in the highlighted box on the above image then give your key a descriptive &lt;strong&gt;Name&lt;/strong&gt; and click &lt;strong&gt;Add SSH key&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Awesome! We are now done with setting up our DigitalOcean to talk with Circle CI via SSH when we deploy later.&lt;/p&gt;
&lt;h3&gt;Create a Digital Ocean droplet&lt;/h3&gt;
&lt;p&gt;While you’re in Digital Ocean create a Droplet(the smallest $5 one should be fine for the purposes of this tutorial).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I made my Digital Ocean droplet with an Ubuntu distribution.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Before you click &lt;strong&gt;Create&lt;/strong&gt; at the bottom, first make sure you’ve set your droplet to use your added public SSH key from earlier.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ff64d6399ef5c426bee3194dfca3bdd9/cfdee/DO-key-set.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.921900600764616%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABb0lEQVQoz4VSy0oDMRSN3egf+Ni68F+sblz5NYJUwW3XBQv2D6xTFz6Wgijozp0bnRHaGcd5ZG5yk5t4O6NSQerhEgg3555zkojWavvs4tZ7X4HCqvSImmxpwP+Gq1dJ+mR8A972j/uDwUAsre+Mru64YclZg46sJVKo/VxQDSFWt0ZX97xHY4BRgVaKjHU15o8Qixu7o+sp2VgCpSoApbWxhsgZY+bzxcLaVmNbZ3kWReUkxiy3sqK8YHP/KLfWtoPLmhwn78/PMB5jksIko0n8P1msbDaZlVJpkiSsrMCT06BKWWqt2Xdj3n3jD7Kxlo/yCI2ojOfseZ4V5ReklNzlWyCys+R2k5nJP+DhudRpVjjvHh4fu91ur9eL45hlEZG+4wix/KWsNcq8MAqdIX70EowsKqsRyuojSbP3DwTFXS6yM+SgVg5VehAG+6/Dab0MO+GwEwVH0flBFBy+nXPxthOe7b2ePsHb9J849wnSiVN1kih6QwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Digital Ocean key set&quot;
        title=&quot;&quot;
        src=&quot;/static/ff64d6399ef5c426bee3194dfca3bdd9/fb8a0/DO-key-set.png&quot;
        srcset=&quot;/static/ff64d6399ef5c426bee3194dfca3bdd9/1a291/DO-key-set.png 148w,
/static/ff64d6399ef5c426bee3194dfca3bdd9/2bc4a/DO-key-set.png 295w,
/static/ff64d6399ef5c426bee3194dfca3bdd9/fb8a0/DO-key-set.png 590w,
/static/ff64d6399ef5c426bee3194dfca3bdd9/526de/DO-key-set.png 885w,
/static/ff64d6399ef5c426bee3194dfca3bdd9/fa2eb/DO-key-set.png 1180w,
/static/ff64d6399ef5c426bee3194dfca3bdd9/08f6a/DO-key-set.png 1770w,
/static/ff64d6399ef5c426bee3194dfca3bdd9/cfdee/DO-key-set.png 1831w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Select your key from the list of available keys there.&lt;/p&gt;
&lt;p&gt;Great! Now we’ve got a running droplet that can talk to Circle CI via SSH!&lt;/p&gt;
&lt;p&gt;The final stage of setup is to create a &lt;strong&gt;DockerHub&lt;/strong&gt; account so that we have somewhere to push our Docker image to larer.&lt;/p&gt;
&lt;h3&gt;Final step of setup: DockerHub&lt;/h3&gt;
&lt;p&gt;Now we have our Circle CI connected to our Github repo to pull code changes and a Digital Ocean droplet to host our Docker image on, the
last thing we need is a place to store and transfer our image into the droplet from.&lt;/p&gt;
&lt;p&gt;Luckily for us Docker provides this for us in the form of &lt;strong&gt;DockerHub&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Think of it like github for Docker images.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Head on over to &lt;a href=&quot;https://hub.docker.com/&quot;&gt;DockerHub&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Create an account and login.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Remember your credentials as this will be important in a bit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Once you’ve logged in click the &lt;strong&gt;Create Repository&lt;/strong&gt; button in the top right.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d2187ea897fd739ecc45761baf666eaf/268f9/docker-hub.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 46.3441451346894%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA9ElEQVQoz41QTU/DMAztb2aTKEK7DAkJcR3iCCd+AEe6AeP3rB+J67hpYwc3BbYdgD1ZL1bsp2c7m69BY7aGi1dYbu2sMNOPRr6By3dYbFEj35h5Ya4/zOLNnhVfDVn8hgh7Qgl9PEZHzrVACA6BiA5LmUicglm6zgfWlxOLsnY8Pb+c39wtVw/57f3V6rE2rX6OZYl7Zw6KYUzkyLlFrBvTWKgbq6yqvfNP5gcuK62C2nvvEZ3yZP4bDneOjqgfkjmPk0vCSWIdWm1Vrxg9Q/B9r3yamKOxsKuqXVnqkrZ1SH5IV/hfrKM66gAdpz15Ouif+ATVq/4s6NbMCAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Docker Hub&quot;
        title=&quot;&quot;
        src=&quot;/static/d2187ea897fd739ecc45761baf666eaf/fb8a0/docker-hub.png&quot;
        srcset=&quot;/static/d2187ea897fd739ecc45761baf666eaf/1a291/docker-hub.png 148w,
/static/d2187ea897fd739ecc45761baf666eaf/2bc4a/docker-hub.png 295w,
/static/d2187ea897fd739ecc45761baf666eaf/fb8a0/docker-hub.png 590w,
/static/d2187ea897fd739ecc45761baf666eaf/526de/docker-hub.png 885w,
/static/d2187ea897fd739ecc45761baf666eaf/fa2eb/docker-hub.png 1180w,
/static/d2187ea897fd739ecc45761baf666eaf/08f6a/docker-hub.png 1770w,
/static/d2187ea897fd739ecc45761baf666eaf/268f9/docker-hub.png 1819w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Give your repository a name that you will remember as we will need it later, give it a description if you want.&lt;/p&gt;
&lt;p&gt;Then click &lt;strong&gt;Create&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Remember the name you gave the repository as we’ll need it when configuring Circle CI to deploy our app.(Mine is oldtimerza/blade-express as seen from the dashboard).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/07f7a0fffc5d5a07021d19dfad7f7534/67a86/docker-hub-dash.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.800435019032086%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABS0lEQVQoz6XNyU4CQRAG4CZoiD6BgqDgAi5oNF4Zo+zqQ7gLxJiA8ZkYvIjxFTyZeJXAwYsXoxd2umfpspoeRjRejJUvnUrVXzNkKqN6Mqovqy5dqjO5kjdbChbKKFQoh6+lu+Wr2+lsceGiuJkvYhJPkC93Q6otsNSh2hRNpQ7Pdag0oNYUxLABTx9w/wIPb1BrD/JNIACmxHUKhiZ6roPJwGAAhpiLLW8x8/G1W32ndh4Rjps+Tdcp1XqUmSbnHChj7R6jTENM08TI+hbY8M9fxfsle4NDi4mMHcW7wdKqb8d/rf8dd7pUand68h1mb39FQtFDtBg72tjPrCSO1/fOV1On4eTJWvoMm+DOgQxYsaEeETIZQQ634vRHiVtxeLeJZwthI/oJ3CoDkZ+cgbg0FkyPh3bxHZ1NiIk/hkYCcZtrLumaT9l59AkVR9K/gvaUFAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Docker dash&quot;
        title=&quot;&quot;
        src=&quot;/static/07f7a0fffc5d5a07021d19dfad7f7534/fb8a0/docker-hub-dash.png&quot;
        srcset=&quot;/static/07f7a0fffc5d5a07021d19dfad7f7534/1a291/docker-hub-dash.png 148w,
/static/07f7a0fffc5d5a07021d19dfad7f7534/2bc4a/docker-hub-dash.png 295w,
/static/07f7a0fffc5d5a07021d19dfad7f7534/fb8a0/docker-hub-dash.png 590w,
/static/07f7a0fffc5d5a07021d19dfad7f7534/526de/docker-hub-dash.png 885w,
/static/07f7a0fffc5d5a07021d19dfad7f7534/fa2eb/docker-hub-dash.png 1180w,
/static/07f7a0fffc5d5a07021d19dfad7f7534/08f6a/docker-hub-dash.png 1770w,
/static/07f7a0fffc5d5a07021d19dfad7f7534/67a86/docker-hub-dash.png 1839w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;You now have everything you need to do the final part of this tutorial.&lt;/p&gt;
&lt;p&gt;That is to configure our project with a DockerFile and update our .circleci/config.yml to build, test and deploy everything automatically whenever we push code to our Github repo.&lt;/p&gt;
&lt;p&gt;Stay tuned for the next part of this tutorial: &lt;strong&gt;Configuration&lt;/strong&gt;.&lt;/p&gt;</content:encoded></item></channel></rss>